TODO malloc fail need to free in addnode func


